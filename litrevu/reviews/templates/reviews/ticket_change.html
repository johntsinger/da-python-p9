{% extends 'base.html' %}

{% load static %}

{% load crispy_forms_tags %}

{% block content %}
    <div class="container rounded-3 border px-4" style="background-color: #f0f2f5;">
        <legend class="border-bottom py-2 px-2">
            Update Ticket
        </legend>
        <form method="post" enctype="multipart/form-data" class="mx-2 mx-md-4 my-4 pt-2">
            {% csrf_token %}
            {{ form.media }}
            <!-- needed because form.media is empty if form invalid -->
            {{ form_media.media }}
            {{ form|crispy }}
            {% include 'includes/image_preview.html' with object=ticket %}
            {% include 'reviews/includes/submit_buttons_form.html' %}
            <input type="hidden" name="previous_url" value="{% if previous_url %}{{ previous_url }}{% else %}{{ request.META.HTTP_REFERER }}{% endif %}">
        </form>
    </div>
{% endblock %}
